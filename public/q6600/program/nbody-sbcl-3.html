<!DOCTYPE html>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="robots" content="noindex,follow,noarchive">

<title>n-body Lisp SBCL&nbsp;#3 program | Q6600 Benchmarks Game </title>
<link href="./program.css" rel = "stylesheet" type = "text/css" >
<link rel="shortcut icon" href="./favicon.ico">
<header>
  <h3><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/q6600/">The&nbsp;Q6600<br>Benchmarks&nbsp;Game</a></h3>
</header>
<article>
  <div>
    <h1>n-body Lisp SBCL&nbsp;#3 program</h1>
    <aside>
      <p><a href="../description/nbody.html#nbody">description</a>
    </aside>
  </div>
  <section>
    <div>
      <h2>source code</h2>
    </div>
    <pre>
<span class="slc">;;   The Computer Language Benchmarks Game</span>
<span class="slc">;;   https://salsa.debian.org/benchmarksgame-team/benchmarksgame/</span>
<span class="slc">;;;</span>
<span class="slc">;;; contributed by Patrick Frankenberger</span>
<span class="slc">;;; modified by Juho Snellman 2005-11-18</span>
<span class="slc">;;;   * About 40% speedup on SBCL, 90% speedup on CMUCL</span>
<span class="slc">;;;   * Represent a body as a DEFSTRUCT with (:TYPE VECTOR DOUBLE-FLOAT), a</span>
<span class="slc">;;;     not as a structure that contains vectors</span>
<span class="slc">;;;   * Inline APPLYFORCES</span>
<span class="slc">;;;   * Replace (/ DT DISTANCE DISTANCE DISTANCE) with</span>
<span class="slc">;;;     (/ DT (* DISTANCE DISTANCE DISTANCE)), as is done in the other</span>
<span class="slc">;;;     implementations of this test.</span>
<span class="slc">;;;   * Add a couple of declarations</span>
<span class="slc">;;;   * Heavily rewritten for style (represent system as a list instead of</span>
<span class="slc">;;;     an array to make the nested iterations over it less clumsy, use</span>
<span class="slc">;;;     INCF/DECF where appropriate, break very long lines, etc)</span>
<span class="slc">;;; modified by Marko Kocic </span>
<span class="slc">;;;   * add optimization declarations</span>
<span class="slc">;;; modified by Bela Pecsek</span>
<span class="slc">;;;   * code modification to use scaling method as in GCC #2 to use (/ 1.0d0 (..))</span>
<span class="slc">;;;     instead of (/ dt (..)) in the heavily used applyforces function</span>
<span class="slc">;;;   * calculate magnitude by (/ 1.0d0 (* dist_sq distance)) (actually (* R distance)</span>
<span class="slc">;;;   * precompute mass * mag instead of dx,y,z * mag to save slot access and multiplications</span>
<span class="slc">;;;   * the number of multiplication dropped from 14 to 12</span>
<span class="slc">;;;   * inlined the advance function</span>
<span class="slc">;;;   * execution time is reduced by about 12-13% on my PC </span>
<span class="slc">;;; sbcl --load nbody3.lisp --no-userinit --eval &quot;(setf *block-compile-default* t)&quot; --eval &quot;(save-lisp-and-die \&quot;nbody3.core\&quot; :executable t :purify t :toplevel (lambda () (main) (quit)))&quot;</span>

<span class="opt">(</span><span class="kwa">declaim</span> <span class="opt">(</span><span class="kwa">optimize</span> <span class="opt">(</span><span class="kwa">speed</span> <span class="num">3</span><span class="opt">) (</span><span class="kwa">safety</span> <span class="num">0</span><span class="opt">) (</span><span class="kwa">space</span> <span class="num">0</span><span class="opt">) (</span><span class="kwa">debug</span> <span class="num">0</span><span class="opt">)))</span>

<span class="opt">(</span><span class="kwa">defconstant</span> <span class="opt">+</span>days-per-year<span class="opt">+</span> <span class="num">365.24</span>d0<span class="opt">)</span>
<span class="opt">(</span><span class="kwa">defconstant</span> <span class="opt">+</span>solar-mass<span class="opt">+ (*</span> <span class="num">4</span>d0 pi pi<span class="opt">))</span>

<span class="opt">(</span><span class="kwa">defstruct</span> <span class="opt">(</span><span class="kwa">body</span> <span class="opt">(:</span>type <span class="opt">(</span><span class="kwa">vector</span> double-float<span class="opt">))</span>
                 <span class="opt">(:</span>conc-name nil<span class="opt">)</span>
                 <span class="opt">(:</span>constructor make-body <span class="opt">(</span><span class="kwa">x</span> y z vx vy vz mass<span class="opt">)))</span>
  x y z vx vy vz mass<span class="opt">)</span>

<span class="opt">(</span><span class="kwa">deftype</span> body <span class="opt">() &apos;(</span><span class="kwa">vector</span> double-float <span class="num">7</span><span class="opt">))</span>

<span class="opt">(</span><span class="kwa">defparameter</span> <span class="opt">*</span>jupiter<span class="opt">*</span>
  <span class="opt">(</span><span class="kwa">make-body</span> <span class="num">4.84143144246472090</span>d0
             -<span class="num">1.16032004402742839</span>d0
             -<span class="num">1.03622044471123109</span>d-1
             <span class="opt">(*</span> <span class="num">1.66007664274403694</span>d-3 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">7.69901118419740425</span>d-3 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> -<span class="num">6.90460016972063023</span>d-5  <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">9.54791938424326609</span>d-4 <span class="opt">+</span>solar-mass<span class="opt">+)))</span>

<span class="opt">(</span><span class="kwa">defparameter</span> <span class="opt">*</span>saturn<span class="opt">*</span>
  <span class="opt">(</span><span class="kwa">make-body</span> <span class="num">8.34336671824457987</span>d0
             <span class="num">4.12479856412430479</span>d0
             -<span class="num">4.03523417114321381</span>d-1
             <span class="opt">(*</span> -<span class="num">2.76742510726862411</span>d-3 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">4.99852801234917238</span>d-3 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">2.30417297573763929</span>d-5 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">2.85885980666130812</span>d-4 <span class="opt">+</span>solar-mass<span class="opt">+)))</span>

<span class="opt">(</span><span class="kwa">defparameter</span> <span class="opt">*</span>uranus<span class="opt">*</span>
  <span class="opt">(</span><span class="kwa">make-body</span> <span class="num">1.28943695621391310</span>d1
             -<span class="num">1.51111514016986312</span>d1
             -<span class="num">2.23307578892655734</span>d-1
             <span class="opt">(*</span> <span class="num">2.96460137564761618</span>d-03 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">2.37847173959480950</span>d-03 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> -<span class="num">2.96589568540237556</span>d-05 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">4.36624404335156298</span>d-05 <span class="opt">+</span>solar-mass<span class="opt">+)))</span>

<span class="opt">(</span><span class="kwa">defparameter</span> <span class="opt">*</span>neptune<span class="opt">*</span>
  <span class="opt">(</span><span class="kwa">make-body</span> <span class="num">1.53796971148509165</span>d<span class="opt">+</span><span class="num">01</span>
             -<span class="num">2.59193146099879641</span>d<span class="opt">+</span><span class="num">01</span>
             <span class="num">1.79258772950371181</span>d-01
             <span class="opt">(*</span> <span class="num">2.68067772490389322</span>d-03 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">1.62824170038242295</span>d-03 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> -<span class="num">9.51592254519715870</span>d-05 <span class="opt">+</span>days-per-year<span class="opt">+)</span>
             <span class="opt">(*</span> <span class="num">5.15138902046611451</span>d-05 <span class="opt">+</span>solar-mass<span class="opt">+)))</span>

<span class="opt">(</span><span class="kwa">defparameter</span> <span class="opt">*</span>sun<span class="opt">*</span>
  <span class="opt">(</span><span class="kwa">make-body</span> <span class="num">0.0</span>d0 <span class="num">0.0</span>d0 <span class="num">0.0</span>d0 <span class="num">0.0</span>d0 <span class="num">0.0</span>d0 <span class="num">0.0</span>d0 <span class="opt">+</span>solar-mass<span class="opt">+))</span>

<span class="opt">(</span><span class="kwa">declaim</span> <span class="opt">(</span><span class="kwa">start-block</span> offset-momentum scale_bodies energy advance<span class="opt">))</span>

<span class="opt">(</span><span class="kwa">declaim</span> <span class="opt">(</span><span class="kwa">inline</span> applyforces<span class="opt">))</span>
<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">applyforces</span> <span class="opt">(</span><span class="kwa">a</span> b<span class="opt">)</span>
  <span class="opt">(</span><span class="kwa">let</span><span class="opt">* ((</span><span class="kwa">dx</span> <span class="opt">(</span><span class="kwa">-</span> <span class="opt">(</span><span class="kwa">x</span> a<span class="opt">) (</span><span class="kwa">x</span> b<span class="opt">)))</span>
	 <span class="opt">(</span><span class="kwa">R</span> <span class="opt">(*</span> dx dx<span class="opt">))</span>
         <span class="opt">(</span><span class="kwa">dy</span> <span class="opt">(</span><span class="kwa">-</span> <span class="opt">(</span><span class="kwa">y</span> a<span class="opt">) (</span><span class="kwa">y</span> b<span class="opt">)))</span>
	 <span class="opt">(</span><span class="kwa">R</span> <span class="opt">(+</span> R <span class="opt">(*</span> dy dy<span class="opt">)))</span>
         <span class="opt">(</span><span class="kwa">dz</span> <span class="opt">(</span><span class="kwa">-</span> <span class="opt">(</span><span class="kwa">z</span> a<span class="opt">) (</span><span class="kwa">z</span> b<span class="opt">)))</span>
	 <span class="opt">(</span><span class="kwa">R</span> <span class="opt">(+</span> R <span class="opt">(*</span> dz dz<span class="opt">)))</span>
	 <span class="opt">(</span><span class="kwa">distance</span> <span class="opt">(</span><span class="kwa">sqrt</span> R<span class="opt">))</span>
	 <span class="opt">(</span><span class="kwa">mag</span> <span class="opt">(/</span> <span class="num">1.0</span>d0 <span class="opt">(*</span> R distance<span class="opt">)))</span>
	 <span class="opt">(</span><span class="kwa">mass-b-mag</span> <span class="opt">(*</span> mag <span class="opt">(</span><span class="kwa">mass</span> b<span class="opt">)))</span>
	 <span class="opt">(</span><span class="kwa">mass-a-mag</span> <span class="opt">(*</span> mag <span class="opt">(</span><span class="kwa">mass</span> a<span class="opt">))))</span>
    <span class="opt">(</span><span class="kwa">declare</span> <span class="opt">(</span><span class="kwa">type</span> body a b<span class="opt">)</span>
	     <span class="opt">(</span><span class="kwa">type</span> double-float dx dy dz<span class="opt">)</span>
	     <span class="opt">(</span><span class="kwa">type</span> <span class="opt">(</span><span class="kwa">double-float</span> <span class="num">0.0</span>d0<span class="opt">)</span> R distance mag mass-a-mag mass-b-mag<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">decf</span> <span class="opt">(</span><span class="kwa">vx</span> a<span class="opt">) (*</span> dx mass-b-mag<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">decf</span> <span class="opt">(</span><span class="kwa">vy</span> a<span class="opt">) (*</span> dy mass-b-mag<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">decf</span> <span class="opt">(</span><span class="kwa">vz</span> a<span class="opt">) (*</span> dz mass-b-mag<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">incf</span> <span class="opt">(</span><span class="kwa">vx</span> b<span class="opt">) (*</span> dx mass-a-mag<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">incf</span> <span class="opt">(</span><span class="kwa">vy</span> b<span class="opt">) (*</span> dy mass-a-mag<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">incf</span> <span class="opt">(</span><span class="kwa">vz</span> b<span class="opt">) (*</span> dz mass-a-mag<span class="opt">))))</span>

<span class="opt">(</span><span class="kwa">declaim</span> <span class="opt">(</span><span class="kwa">inline</span> advance<span class="opt">))</span>
<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">advance</span> <span class="opt">(</span><span class="kwa">system</span><span class="opt">)</span>
  <span class="opt">(</span><span class="kwa">loop</span> for <span class="opt">(</span><span class="kwa">a</span> . rest<span class="opt">)</span> on system do
    <span class="opt">(</span><span class="kwa">dolist</span> <span class="opt">(</span><span class="kwa">b</span> rest<span class="opt">)</span>
          <span class="opt">(</span><span class="kwa">applyforces</span> a b<span class="opt">)))</span>
  <span class="opt">(</span><span class="kwa">dolist</span> <span class="opt">(</span><span class="kwa">a</span> system<span class="opt">)</span>
    <span class="opt">(</span><span class="kwa">incf</span> <span class="opt">(</span><span class="kwa">x</span> a<span class="opt">) (</span><span class="kwa">vx</span> a<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">incf</span> <span class="opt">(</span><span class="kwa">y</span> a<span class="opt">) (</span><span class="kwa">vy</span> a<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">incf</span> <span class="opt">(</span><span class="kwa">z</span> a<span class="opt">) (</span><span class="kwa">vz</span> a<span class="opt">)))</span>
  nil<span class="opt">)</span>

<span class="opt">(</span><span class="kwa">declaim</span> <span class="opt">(</span><span class="kwa">inline</span> energy<span class="opt">))</span>
<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">energy</span> <span class="opt">(</span><span class="kwa">system</span><span class="opt">)</span>
    <span class="opt">(</span><span class="kwa">let</span> <span class="opt">((</span><span class="kwa">e</span> <span class="num">0.0</span>d0<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">declare</span> <span class="opt">(</span><span class="kwa">double-float</span> e<span class="opt">))</span>
      <span class="opt">(</span><span class="kwa">loop</span> for <span class="opt">(</span><span class="kwa">a</span> . rest<span class="opt">)</span> on system do
          <span class="opt">(</span><span class="kwa">incf</span> e <span class="opt">(*</span> <span class="num">0.5</span>d0
                     <span class="opt">(</span><span class="kwa">mass</span> a<span class="opt">)</span>
                     <span class="opt">(+ (* (</span><span class="kwa">vx</span> a<span class="opt">) (</span><span class="kwa">vx</span> a<span class="opt">))</span>
                        <span class="opt">(* (</span><span class="kwa">vy</span> a<span class="opt">) (</span><span class="kwa">vy</span> a<span class="opt">))</span>
                        <span class="opt">(* (</span><span class="kwa">vz</span> a<span class="opt">) (</span><span class="kwa">vz</span> a<span class="opt">)))))</span>
          <span class="opt">(</span><span class="kwa">dolist</span> <span class="opt">(</span><span class="kwa">b</span> rest<span class="opt">)</span>
            <span class="opt">(</span><span class="kwa">let</span><span class="opt">* ((</span><span class="kwa">dx</span> <span class="opt">(</span><span class="kwa">-</span> <span class="opt">(</span><span class="kwa">x</span> a<span class="opt">) (</span><span class="kwa">x</span> b<span class="opt">)))</span>
                   <span class="opt">(</span><span class="kwa">dy</span> <span class="opt">(</span><span class="kwa">-</span> <span class="opt">(</span><span class="kwa">y</span> a<span class="opt">) (</span><span class="kwa">y</span> b<span class="opt">)))</span>
                   <span class="opt">(</span><span class="kwa">dz</span> <span class="opt">(</span><span class="kwa">-</span> <span class="opt">(</span><span class="kwa">z</span> a<span class="opt">) (</span><span class="kwa">z</span> b<span class="opt">)))</span>
		   <span class="opt">(</span><span class="kwa">dist</span> <span class="opt">(</span><span class="kwa">sqrt</span> <span class="opt">(+ (*</span> dx dx<span class="opt">) (*</span> dy dy<span class="opt">) (*</span> dz dz<span class="opt">)))))</span>
              <span class="opt">(</span><span class="kwa">decf</span> e <span class="opt">(/ (* (</span><span class="kwa">mass</span> a<span class="opt">) (</span><span class="kwa">mass</span> b<span class="opt">))</span> dist<span class="opt">)))))</span>
    e<span class="opt">))</span>

<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">offset-momentum</span> <span class="opt">(</span><span class="kwa">system</span><span class="opt">)</span>
  <span class="opt">(</span><span class="kwa">let</span> <span class="opt">((</span><span class="kwa">px</span> <span class="num">0.0</span>d0<span class="opt">)</span>
	<span class="opt">(</span><span class="kwa">py</span> <span class="num">0.0</span>d0<span class="opt">)</span>
	<span class="opt">(</span><span class="kwa">pz</span> <span class="num">0.0</span>d0<span class="opt">)</span>
	<span class="opt">(</span><span class="kwa">sun</span> <span class="opt">(</span><span class="kwa">car</span> system<span class="opt">)))</span>
    <span class="opt">(</span><span class="kwa">dolist</span> <span class="opt">(</span><span class="kwa">p</span> system<span class="opt">)</span>
      <span class="opt">(</span><span class="kwa">incf</span> px <span class="opt">(* (</span><span class="kwa">vx</span> p<span class="opt">) (</span><span class="kwa">mass</span> p<span class="opt">)))</span>
      <span class="opt">(</span><span class="kwa">incf</span> py <span class="opt">(* (</span><span class="kwa">vy</span> p<span class="opt">) (</span><span class="kwa">mass</span> p<span class="opt">)))</span>
      <span class="opt">(</span><span class="kwa">incf</span> pz <span class="opt">(* (</span><span class="kwa">vz</span> p<span class="opt">) (</span><span class="kwa">mass</span> p<span class="opt">))))</span>
    <span class="opt">(</span><span class="kwa">setf</span> <span class="opt">(</span><span class="kwa">vx</span> sun<span class="opt">) (/ (</span><span class="kwa">-</span> px<span class="opt">) +</span>solar-mass<span class="opt">+)</span>
          <span class="opt">(</span><span class="kwa">vy</span> sun<span class="opt">) (/ (</span><span class="kwa">-</span> py<span class="opt">) +</span>solar-mass<span class="opt">+)</span>
          <span class="opt">(</span><span class="kwa">vz</span> sun<span class="opt">) (/ (</span><span class="kwa">-</span> pz<span class="opt">) +</span>solar-mass<span class="opt">+))</span>
    nil<span class="opt">))</span>

<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">scale_bodies</span> <span class="opt">(</span><span class="kwa">system</span> scale<span class="opt">)</span>
  <span class="opt">(</span><span class="kwa">dolist</span> <span class="opt">(</span><span class="kwa">p</span> system<span class="opt">)</span>
    <span class="opt">(</span><span class="kwa">declare</span> <span class="opt">(</span><span class="kwa">type</span> body p<span class="opt">)</span>
	     <span class="opt">(</span><span class="kwa">type</span> list system<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">setf</span> <span class="opt">(</span><span class="kwa">mass</span> p<span class="opt">) (* (</span><span class="kwa">mass</span> p<span class="opt">) (*</span> scale scale<span class="opt">))</span>
	  <span class="opt">(</span><span class="kwa">vx</span> p<span class="opt">) (* (</span><span class="kwa">vx</span> p<span class="opt">)</span> scale<span class="opt">)</span>
	  <span class="opt">(</span><span class="kwa">vy</span> p<span class="opt">) (* (</span><span class="kwa">vy</span> p<span class="opt">)</span> scale<span class="opt">)</span>
	  <span class="opt">(</span><span class="kwa">vz</span> p<span class="opt">) (* (</span><span class="kwa">vz</span> p<span class="opt">)</span> scale<span class="opt">))))</span>

<span class="opt">(</span><span class="kwa">declaim</span> <span class="opt">(</span><span class="kwa">end-block</span><span class="opt">))</span>

<span class="opt">(</span><span class="kwa">defconstant</span> <span class="opt">+</span>DT<span class="opt">+</span> <span class="num">0.01</span>d0<span class="opt">)</span>
<span class="opt">(</span><span class="kwa">defconstant</span> <span class="opt">+</span>RECIP_DT<span class="opt">+ (/</span> <span class="num">1.0</span>d0 <span class="opt">+</span>DT<span class="opt">+))</span>

<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">nbody</span> <span class="opt">(</span><span class="kwa">n</span><span class="opt">)</span>
  <span class="opt">(</span><span class="kwa">declare</span> <span class="opt">(</span><span class="kwa">fixnum</span> n<span class="opt">))</span>
  <span class="opt">(</span><span class="kwa">let</span> <span class="opt">((</span><span class="kwa">system</span> <span class="opt">(</span><span class="kwa">list</span> <span class="opt">*</span>sun<span class="opt">* *</span>jupiter<span class="opt">* *</span>saturn<span class="opt">* *</span>uranus<span class="opt">* *</span>neptune<span class="opt">*)))</span>
    <span class="opt">(</span><span class="kwa">offset-momentum</span> system<span class="opt">)</span>
    <span class="opt">(</span><span class="kwa">format</span> t <span class="str">&quot;~,9F~%&quot;</span> <span class="opt">(</span><span class="kwa">energy</span> system<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">scale_bodies</span> system <span class="opt">+</span>DT<span class="opt">+)</span>
    <span class="opt">(</span><span class="kwa">dotimes</span> <span class="opt">(</span><span class="kwa">i</span> n<span class="opt">)</span>
      <span class="opt">(</span><span class="kwa">advance</span> system<span class="opt">))</span>
    <span class="opt">(</span><span class="kwa">scale_bodies</span> system <span class="opt">+</span>RECIP_DT<span class="opt">+)</span>
    <span class="opt">(</span><span class="kwa">format</span> t <span class="str">&quot;~,9F~%&quot;</span> <span class="opt">(</span><span class="kwa">energy</span> system<span class="opt">))))</span>

<span class="opt">(</span><span class="kwa">defun</span> <span class="kwb">main</span> <span class="opt">()</span>
 <span class="opt">(</span><span class="kwa">let</span> <span class="opt">((</span><span class="kwa">n</span> <span class="opt">(</span><span class="kwa">parse-integer</span> <span class="opt">(</span><span class="kwa">or</span> <span class="opt">(</span><span class="kwa">car</span> <span class="opt">(</span><span class="kwa">last</span> <span class="opt">#+</span>sbcl sb-ext<span class="opt">:*</span>posix-argv<span class="opt">*))</span> <span class="str">&quot;1&quot;</span><span class="opt">))))</span>
   <span class="opt">(</span><span class="kwa">nbody</span> n<span class="opt">)))</span>

    </pre>
  </section>
  <section>
    <div>
      <h2 id="log">notes, command-line, and program output</h2>
    </div>
    <pre>
NOTES:
64-bit Ubuntu quad core
SBCL 2.0.4


Wed, 01 Jul 2020 05:24:51 GMT

MAKE:
cp: 'nbody.sbcl-3.sbcl' and './nbody.sbcl-3.sbcl' are the same file
SBCL built with: /usr/local/bin/sbcl --userinit /dev/null --batch --eval '(load &quot;nbody.sbcl-3.sbcl_compile&quot;)'
### START nbody.sbcl-3.sbcl_compile
(handler-bind ((sb-ext:defconstant-uneql      (lambda (c) (abort c))))      (require :sb-concurrency)      (load (compile-file &quot;nbody.sbcl-3.sbcl&quot; ))) (save-lisp-and-die &quot;sbcl.core&quot; :purify t)
### END nbody.sbcl-3.sbcl_compile

; compiling file &quot;/home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl&quot; (written 30 JUN 2020 10:23:11 PM):
; compiling (DECLAIM (OPTIMIZE # ...))
; compiling (DEFCONSTANT +DAYS-PER-YEAR+ ...)
; compiling (DEFCONSTANT +SOLAR-MASS+ ...)
; compiling (DEFSTRUCT (BODY # ...) ...)
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DEFSTRUCT BODY
;     (DEFSTRUCT
;         (BODY (:TYPE (VECTOR DOUBLE-FLOAT)) (:CONC-NAME NIL)
;          (:CONSTRUCTOR MAKE-BODY (X Y Z VX VY VZ MASS)))
;       X
;       Y
;       Z
;       VX
;       VY
;       VZ
;       MASS)
; --&gt; PROGN DEFUN PROGN SB-IMPL::%DEFUN SB-IMPL::%DEFUN SB-INT:NAMED-LAMBDA 
; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA X
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK X (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 0))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF X)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK X (SETF (ELT STRUCTURE 0) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA Y
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK Y (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 1))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF Y)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK Y (SETF (ELT STRUCTURE 1) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA Z
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK Z (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 2))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF Z)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK Z (SETF (ELT STRUCTURE 2) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA VX
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK VX (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 3))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF VX)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK VX (SETF (ELT STRUCTURE 3) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA VY
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK VY (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 4))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF VY)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK VY (SETF (ELT STRUCTURE 4) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA VZ
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK VZ (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 5))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF VZ)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK VZ (SETF (ELT STRUCTURE 5) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA MASS
;         (STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE))
;       (BLOCK MASS (THE (AND T DOUBLE-FLOAT) (ELT STRUCTURE 6))))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA (SETF MASS)
;         (SB-KERNEL::VALUE STRUCTURE)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (DECLARE (TYPE (SIMPLE-ARRAY DOUBLE-FLOAT (*)) STRUCTURE)
;                (TYPE (AND T DOUBLE-FLOAT) SB-KERNEL::VALUE))
;       (BLOCK MASS (SETF (ELT STRUCTURE 6) SB-KERNEL::VALUE)))
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; compiling (DEFTYPE BODY ...)
; compiling (DEFPARAMETER *JUPITER* ...)
; compiling (DEFPARAMETER *SATURN* ...)
; compiling (DEFPARAMETER *URANUS* ...)
; compiling (DEFPARAMETER *NEPTUNE* ...)
; compiling (DEFPARAMETER *SUN* ...)
; compiling (DECLAIM (START-BLOCK OFFSET-MOMENTUM ...))
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DECLAIM (START-BLOCK OFFSET-MOMENTUM SCALE_BODIES ENERGY ADVANCE)
;     (DECLAIM (START-BLOCK OFFSET-MOMENTUM SCALE_BODIES ENERGY ADVANCE))
; --&gt; EVAL-WHEN 
; ==&gt;
;   (SB-C::%PROCLAIM '(START-BLOCK OFFSET-MOMENTUM SCALE_BODIES ENERGY ADVANCE)
;                    (SB-C:SOURCE-LOCATION))
; 
; caught WARNING:
;   unrecognized declaration (START-BLOCK OFFSET-MOMENTUM SCALE_BODIES ENERGY
;                             ADVANCE)

; compiling (DECLAIM (INLINE APPLYFORCES))
; compiling (DEFUN APPLYFORCES ...)
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DEFUN APPLYFORCES
;     (INCF (VZ B) (* DZ MASS-A-MAG))
; --&gt; LET* FUNCALL SB-C::%FUNCALL 
; ==&gt;
;   ((SETF VZ) #:NEW1 #:B5)
; 
; note: doing float to pointer coercion (cost 13) to &quot;&lt;return value&gt;&quot;

; compiling (DECLAIM (INLINE ADVANCE))
; compiling (DEFUN ADVANCE ...)
; compiling (DECLAIM (INLINE ENERGY))
; compiling (DEFUN ENERGY ...)
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DEFUN ENERGY
;     (DEFUN ENERGY (SYSTEM)
;       (LET ((E 0.0d0))
;         (DECLARE (DOUBLE-FLOAT E))
;         (LOOP FOR (A . REST) ON SYSTEM
;               DO (INCF E (* 0.5d0 # #)) (DOLIST (B REST)
;                                           (LET* #
;                                             #)))
;         E))
; --&gt; PROGN SB-IMPL::%DEFUN SB-IMPL::%DEFUN SB-INT:NAMED-LAMBDA 
; ==&gt;
;   #'(SB-INT:NAMED-LAMBDA ENERGY
;         (SYSTEM)
;       (DECLARE (SB-C::TOP-LEVEL-FORM))
;       (BLOCK ENERGY
;         (LET ((E 0.0d0))
;           (DECLARE (DOUBLE-FLOAT E))
;           (LOOP FOR (A . REST) ON SYSTEM
;                 DO (INCF E #) (DOLIST # #))
;           E)))
; 
; note: doing float to pointer coercion (cost 13) from E to &quot;&lt;return value&gt;&quot;

; compiling (DEFUN OFFSET-MOMENTUM ...)
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DEFUN OFFSET-MOMENTUM
;     (- PX)
; ==&gt;
;   (SB-KERNEL:%NEGATE (THE NUMBER PX))
; 
; note: unable to
;   Eliminate %negate/%negate of rationals
; due to type uncertainty:
;   The first argument is a NUMBER, not a RATIONAL.

;     (/ (- PX) +SOLAR-MASS+)
; 
; note: unable to
;   convert to multiplication by reciprocal
; due to type uncertainty:
;   The first argument is a NUMBER, not a DOUBLE-FLOAT.

;     (- PY)
; ==&gt;
;   (SB-KERNEL:%NEGATE (THE NUMBER PY))
; 
; note: unable to
;   Eliminate %negate/%negate of rationals
; due to type uncertainty:
;   The first argument is a NUMBER, not a RATIONAL.

;     (/ (- PY) +SOLAR-MASS+)
; 
; note: unable to
;   convert to multiplication by reciprocal
; due to type uncertainty:
;   The first argument is a NUMBER, not a DOUBLE-FLOAT.

;     (- PZ)
; ==&gt;
;   (SB-KERNEL:%NEGATE (THE NUMBER PZ))
; 
; note: unable to
;   Eliminate %negate/%negate of rationals
; due to type uncertainty:
;   The first argument is a NUMBER, not a RATIONAL.

;     (/ (- PZ) +SOLAR-MASS+)
; 
; note: unable to
;   convert to multiplication by reciprocal
; due to type uncertainty:
;   The first argument is a NUMBER, not a DOUBLE-FLOAT.

;     (INCF PX (* (VX P) (MASS P)))
; --&gt; SETQ THE 
; ==&gt;
;   (+ (* (VX P) (MASS P)) PX)
; 
; note: forced to do GENERIC-+ (cost 10)
;       unable to do inline float arithmetic (cost 2) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES DOUBLE-FLOAT
;                                                                &amp;REST T).
;       unable to do inline float arithmetic (cost 4) because:
;       The second argument is a NUMBER, not a (COMPLEX DOUBLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX DOUBLE-FLOAT)
;                                                         &amp;REST T).

;     (INCF PY (* (VY P) (MASS P)))
; --&gt; SETQ THE 
; ==&gt;
;   (+ (* (VY P) (MASS P)) PY)
; 
; note: forced to do GENERIC-+ (cost 10)
;       unable to do inline float arithmetic (cost 2) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES DOUBLE-FLOAT
;                                                                &amp;REST T).
;       unable to do inline float arithmetic (cost 4) because:
;       The second argument is a NUMBER, not a (COMPLEX DOUBLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX DOUBLE-FLOAT)
;                                                         &amp;REST T).

;     (INCF PZ (* (VZ P) (MASS P)))
; --&gt; SETQ THE 
; ==&gt;
;   (+ (* (VZ P) (MASS P)) PZ)
; 
; note: forced to do GENERIC-+ (cost 10)
;       unable to do inline float arithmetic (cost 2) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES DOUBLE-FLOAT
;                                                                &amp;REST T).
;       unable to do inline float arithmetic (cost 4) because:
;       The second argument is a NUMBER, not a (COMPLEX DOUBLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX DOUBLE-FLOAT)
;                                                         &amp;REST T).

;     (- PX)
; ==&gt;
;   (SB-KERNEL:%NEGATE (THE NUMBER PX))
; 
; note: forced to do GENERIC-NEGATE (cost 10)
;       unable to do inline float arithmetic (cost 1) because:
;       The first argument is a NUMBER, not a (COMPLEX SINGLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX SINGLE-FLOAT)
;                                                         &amp;REST T).
;       unable to do inline float arithmetic (cost 1) because:
;       The first argument is a NUMBER, not a (COMPLEX DOUBLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX DOUBLE-FLOAT)
;                                                         &amp;REST T).
;       etc.

;     (/ (- PX) +SOLAR-MASS+)
; 
; note: forced to do full call
;       unable to do inline float arithmetic (cost 19) because:
;       The first argument is a NUMBER, not a DOUBLE-FLOAT.

;     (- PY)
; ==&gt;
;   (SB-KERNEL:%NEGATE (THE NUMBER PY))
; 
; note: forced to do GENERIC-NEGATE (cost 10)
;       unable to do inline float arithmetic (cost 1) because:
;       The first argument is a NUMBER, not a (COMPLEX SINGLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX SINGLE-FLOAT)
;                                                         &amp;REST T).
;       unable to do inline float arithmetic (cost 1) because:
;       The first argument is a NUMBER, not a (COMPLEX DOUBLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX DOUBLE-FLOAT)
;                                                         &amp;REST T).
;       etc.

;     (/ (- PY) +SOLAR-MASS+)
; 
; note: forced to do full call
;       unable to do inline float arithmetic (cost 19) because:
;       The first argument is a NUMBER, not a DOUBLE-FLOAT.

;     (- PZ)
; ==&gt;
;   (SB-KERNEL:%NEGATE (THE NUMBER PZ))
; 
; note: forced to do GENERIC-NEGATE (cost 10)
;       unable to do inline float arithmetic (cost 1) because:
;       The first argument is a NUMBER, not a (COMPLEX SINGLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX SINGLE-FLOAT)
;                                                         &amp;REST T).
;       unable to do inline float arithmetic (cost 1) because:
;       The first argument is a NUMBER, not a (COMPLEX DOUBLE-FLOAT).
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX DOUBLE-FLOAT)
;                                                         &amp;REST T).
;       etc.

;     (/ (- PZ) +SOLAR-MASS+)
; 
; note: forced to do full call
;       unable to do inline float arithmetic (cost 19) because:
;       The first argument is a NUMBER, not a DOUBLE-FLOAT.

;     (INCF PX (* (VX P) (MASS P)))
; --&gt; SETQ THE 
; ==&gt;
;   (+ (* (VX P) (MASS P)) PX)
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-+

;     (INCF PY (* (VY P) (MASS P)))
; --&gt; SETQ THE 
; ==&gt;
;   (+ (* (VY P) (MASS P)) PY)
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-+

;     (INCF PZ (* (VZ P) (MASS P)))
; --&gt; SETQ THE 
; ==&gt;
;   (+ (* (VZ P) (MASS P)) PZ)
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-+

; compiling (DEFUN SCALE_BODIES ...)
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DEFUN SCALE_BODIES
;     (* SCALE SCALE)
; 
; note: unable to
;   convert x*2^k to shift
; due to type uncertainty:
;   The first argument is a NUMBER, not a INTEGER.
;   The second argument is a NUMBER, not a INTEGER.
; 
; note: forced to do GENERIC-* (cost 30)
;       unable to do inline fixnum arithmetic (cost 2) because:
;       The first argument is a NUMBER, not a FIXNUM.
;       The second argument is a NUMBER, not a FIXNUM.
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES FIXNUM &amp;REST T).
;       unable to do inline float arithmetic (cost 4) because:
;       The first argument is a NUMBER, not a (COMPLEX SINGLE-FLOAT).
;       The second argument is a NUMBER, not a SINGLE-FLOAT.
;       The result is a (VALUES NUMBER &amp;OPTIONAL), not a (VALUES
;                                                         (COMPLEX SINGLE-FLOAT)
;                                                         &amp;REST T).
;       etc.

;     (* (MASS P) (* SCALE SCALE))
; 
; note: forced to do GENERIC-* (cost 30)
;       unable to do inline float arithmetic (cost 5) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.

;     (* (VX P) SCALE)
; 
; note: forced to do GENERIC-* (cost 30)
;       unable to do inline float arithmetic (cost 5) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.

;     (* (VY P) SCALE)
; 
; note: forced to do GENERIC-* (cost 30)
;       unable to do inline float arithmetic (cost 5) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.

;     (* (VZ P) SCALE)
; 
; note: forced to do GENERIC-* (cost 30)
;       unable to do inline float arithmetic (cost 5) because:
;       The second argument is a NUMBER, not a DOUBLE-FLOAT.

;     (* (MASS P) (* SCALE SCALE))
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-*

;     (* (VX P) SCALE)
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-*

;     (* (VY P) SCALE)
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-*

;     (* (VZ P) SCALE)
; 
; note: doing float to pointer coercion (cost 13), for:
;       the first argument of GENERIC-*

; compiling (DECLAIM (END-BLOCK))
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DECLAIM (END-BLOCK)
;     (DECLAIM (END-BLOCK))
; --&gt; EVAL-WHEN 
; ==&gt;
;   (SB-C::%PROCLAIM '(END-BLOCK) (SB-C:SOURCE-LOCATION))
; 
; caught WARNING:
;   unrecognized declaration (END-BLOCK)

; compiling (DEFCONSTANT +DT+ ...)
; compiling (DEFCONSTANT +RECIP_DT+ ...)
; compiling (DEFUN NBODY ...)
; file: /home/dunham/8000-benchmarksgame/bench/nbody/nbody.sbcl-3.sbcl
; in: DEFUN NBODY
;     (ENERGY SYSTEM)
; --&gt; BLOCK LET 
; ==&gt;
;   E
; 
; note: doing float to pointer coercion (cost 13) from E
; 
; note: doing float to pointer coercion (cost 13) from E

; compiling (DEFUN MAIN ...); 
; compilation unit finished
;   caught 2 WARNING conditions
;   printed 46 notes


; wrote /home/dunham/benchmarksgame_quadcore/nbody/tmp/nbody.sbcl-3.fasl
; compilation finished in 0:00:00.166
WARNING:
   unrecognized declaration (START-BLOCK OFFSET-MOMENTUM SCALE_BODIES ENERGY
                             ADVANCE)
WARNING: unrecognized declaration (END-BLOCK)
### START nbody.sbcl-3.sbcl_run
(main) (quit)
### END nbody.sbcl-3.sbcl_run


3.66s to complete and log all make actions

COMMAND LINE:
/usr/local/bin/sbcl --dynamic-space-size 500 --noinform --core sbcl.core --userinit /dev/null --load nbody.sbcl-3.sbcl_run 50000000

PROGRAM OUTPUT:
-0.169075164
-0.169059907
    </pre>
  </section>
</article>
<footer>
  <nav>
    <ul>
      <li><a href="https://salsa.debian.org/benchmarksgame-team/benchmarksgame/blob/master/CONTRIBUTING.md#contribute-source-code-for-measurement"><span>Contribute your own program</span></a>
      <li><a href="../license.html"><span>3-Clause BSD License</span></a>
    </ul>
  </nav>
</footer>

